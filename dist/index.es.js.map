{"version":3,"file":"index.es.js","sources":["../src/index.js"],"sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport {BrowserRouter as Router, Route, Switch, Redirect, Link} from 'react-router-dom'\n\nexport class OutLet extends Component {\n  static propTypes = {\n    forRoot: PropTypes.array\n  }\n\n  render() {\n\n    const {\n      forRoot\n    } = this.props\n\n    return (\n      <Router>\n        <Switch>\n          {forRoot.map((item, index) => {\n            return <RouterConfig key={index} component={item.component} path={item.path} item={item}/>\n          })}\n        </Switch>\n      </Router>\n    )\n  }\n}\n\nexport class Atag extends Component {\n\n  static propTypes = {\n    routeLink: PropTypes.string,\n    children: PropTypes.any,\n    routerLinkActive: PropTypes.string,\n    queryParams: PropTypes.object\n  }\n\n  render() {\n\n    const {\n      routeLink,\n      children,\n      routerLinkActive,\n      queryParams\n    } = this.props\n\n    let queryArr = [],\n      readyQueryParams\n\n    for (let query in queryParams) {\n      queryArr.push(query)\n    }\n    readyQueryParams = `${routeLink}${queryArr.map((item, index) => (\n      `${index === 0 ? '?' : ''}${item}=${queryParams[item]}${index !== queryArr.length - 1 ? '&' : ''}`\n    ))}`.split(',').join('')\n\n    return (\n      <React.Fragment>\n        <Link to={readyQueryParams}>\n          {children}\n        </Link>\n      </React.Fragment>\n    )\n  }\n}\n\nconst RouterConfig = ({item, ...rest}) => {\n\n  const Component = item.component\n\n  if (item.path === '**') {\n    return <Route {...rest} />\n  }\n\n  if (item.redirectTo) {\n    return <Redirect {...rest} from={`/${item.path}`} to={item.redirectTo}/>\n  }\n\n  if (item.canActivate) {\n\n    const isRouteRender = () => {\n      let guard = true\n      for (let index = 0; index < item.canActivate.length; index++) {\n        if (item.canActivate[index]() === false) {\n          guard = false\n          break\n        }\n      }\n      return guard\n    }\n\n    return <Route path={item.path} render={(props) => (\n      isRouteRender() ? <Component {...props} /> : <Redirect to='/not-found'/>\n    )}/>\n  }\n\n  return <Route {...rest} render={(props) => <Component {...props} />}/>\n}\n"],"names":["OutLet","forRoot","props","map","item","index","component","path","Component","propTypes","PropTypes","array","Atag","routeLink","children","routerLinkActive","queryParams","queryArr","readyQueryParams","query","push","length","split","join","string","any","object","RouterConfig","rest","redirectTo","canActivate","isRouteRender","guard"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIaA,MAAb;;;;;;;;;;6BAKW;UAGLC,OAHK,GAIH,KAAKC,KAJF,CAGLD,OAHK;;;aAOL;qBAAA;;;gBACE;;kBACWE,GAAR,CAAY,UAACC,IAAD,EAAOC,KAAP,EAAiB;mBACrB,oBAAC,YAAD,IAAc,KAAKA,KAAnB,EAA0B,WAAWD,KAAKE,SAA1C,EAAqD,MAAMF,KAAKG,IAAhE,EAAsE,MAAMH,IAA5E,GAAP;WADD;;OAHP;;;;EAXwBI,SAA5B;;AAAaR,OACJS,YAAY;WACRC,UAAUC;;AAqBvB,IAAaC,IAAb;;;;;;;;;;6BASW;mBAOH,KAAKV,KAPF;UAGLW,SAHK,UAGLA,SAHK;UAILC,QAJK,UAILA,QAJK;UAKLC,gBALK,UAKLA,gBALK;UAMLC,WANK,UAMLA,WANK;;;UASHC,WAAW,EAAf;UACEC,yBADF;;WAGK,IAAIC,KAAT,IAAkBH,WAAlB,EAA+B;iBACpBI,IAAT,CAAcD,KAAd;;yBAEiB,MAAGN,SAAH,GAAeI,SAASd,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP;qBAC1CA,UAAU,CAAV,GAAc,GAAd,GAAoB,EADsB,IACjBD,IADiB,SACTY,YAAYZ,IAAZ,CADS,IACWC,UAAUY,SAASI,MAAT,GAAkB,CAA5B,GAAgC,GAAhC,GAAsC,EADjD;OAAb,CAAf,EAEdC,KAFc,CAER,GAFQ,EAEHC,IAFG,CAEE,EAFF,CAAnB;;aAKE;aAAA,CAAO,QAAP;;;cACE;YAAM,IAAIL,gBAAV;;;OAFJ;;;;EA5BsBV,SAA1B;;AAAaI,KAEJH,YAAY;aACNC,UAAUc,MADJ;YAEPd,UAAUe,GAFH;oBAGCf,UAAUc,MAHX;eAIJd,UAAUgB;;AAgC3B,IAAMC,eAAe,SAAfA,YAAe,OAAqB;MAAnBvB,IAAmB,QAAnBA,IAAmB;MAAVwB,IAAU;;;MAElCpB,eAAYJ,KAAKE,SAAvB;;MAEIF,KAAKG,IAAL,KAAc,IAAlB,EAAwB;WACf,oBAAC,KAAD,EAAWqB,IAAX,CAAP;;;MAGExB,KAAKyB,UAAT,EAAqB;WACZ,oBAAC,QAAD,eAAcD,IAAd,IAAoB,YAAUxB,KAAKG,IAAnC,EAA2C,IAAIH,KAAKyB,UAApD,IAAP;;;MAGEzB,KAAK0B,WAAT,EAAsB;;QAEdC,gBAAgB,SAAhBA,aAAgB,GAAM;UACtBC,QAAQ,IAAZ;WACK,IAAI3B,QAAQ,CAAjB,EAAoBA,QAAQD,KAAK0B,WAAL,CAAiBT,MAA7C,EAAqDhB,OAArD,EAA8D;YACxDD,KAAK0B,WAAL,CAAiBzB,KAAjB,QAA8B,KAAlC,EAAyC;kBAC/B,KAAR;;;;aAIG2B,KAAP;KARF;;WAWO,oBAAC,KAAD,IAAO,MAAM5B,KAAKG,IAAlB,EAAwB,QAAQ,gBAACL,KAAD;eACrC6B,kBAAkB,oBAACvB,YAAD,EAAeN,KAAf,CAAlB,GAA6C,oBAAC,QAAD,IAAU,IAAG,YAAb,GADR;OAAhC,GAAP;;;SAKK,oBAAC,KAAD,eAAW0B,IAAX,IAAiB,QAAQ,gBAAC1B,KAAD;aAAW,oBAACM,YAAD,EAAeN,KAAf,CAAX;KAAzB,IAAP;CA9BF;;;;"}